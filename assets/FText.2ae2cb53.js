var B=Object.defineProperty;var b=(e,t)=>B(e,"name",{value:t,configurable:!0});import{d as f,i as V,h as c,H as T,a as m,v as E,l as A,n as L,F as I,I as p,b as g,x as D,t as R,q as z,o as v,y as q,f as y,k as S,D as $,e as w,w as C,C as F,u as h,j as M,z as N,m as G,A as H,B as W}from"./vue.esm-bundler.63e44d6a.js";const P=f({name:"LInputText",props:{modelValue:{type:[String,Number],required:!0,default:""},field:{type:Object,required:!0,default:()=>({})},error:{type:String,default:""}},setup(e,{emit:t}){const r=p("autofocus"),l=e.field.id||e.field.name;return()=>V(c("input",{value:e.modelValue,id:l,name:l,type:"text",placeholder:e.field.placeholder,"aria-labelledby":`${e.field.name}_label`,"aria-describedby":e.field.description?`${l}_help`:void 0,"aria-invalid":!!e.error,onInput:i=>{const d=i.target;t("update:modelValue",d.value)}}),[[r,{status:e.field.autofocus}]])}}),ee=f({name:"LInputNumber",props:{modelValue:{type:[Number,String],required:!0,default:0},field:{type:Object,required:!0,default:()=>({})},error:{type:String,default:""},max:{type:Number,default:0},min:{type:Number,default:0}},setup(e,{emit:t}){const r=p("autofocus"),l=e.field.id||e.field.name;return T(()=>{t("update:modelValue",+e.modelValue),e.field.max&&e.modelValue>e.field.max&&t("update:modelValue",e.field.max),e.field.min&&e.modelValue<e.field.min&&t("update:modelValue",e.field.min)},{flush:"post"}),()=>V(c("input",{value:e.modelValue,id:l,name:l,type:"number",min:e.field.min||e.field.min==0?e.field.min:void 0,max:e.field.max||e.field.max==0?e.field.max:void 0,placeholder:e.field.placeholder,"aria-labelledby":`${l}_label`,"aria-describedby":e.field.description?`${l}_help`:void 0,"aria-invalid":!!e.error,onInput:i=>{const d=i.target;t("update:modelValue",d.value)}}),[[r,{status:e.field.autofocus}]])}}),te=f({name:"LInputTextarea",props:{modelValue:{type:String,required:!0,default:""},field:{type:Object,required:!0},error:{type:String,default:""}},setup(e,{emit:t,expose:r}){const l=p("autofocus"),i=e.field.id||e.field.name,d=m(null),n=b(()=>{if(d.value){const u=window.getComputedStyle(d.value,null),{borderTopWidth:a,borderBottomWidth:o}=u;d.value.style.height="auto",d.value.style.height=d.value.scrollHeight+parseInt(a)+parseInt(o)+"px"}},"onResize");return E(()=>e.modelValue,()=>{L(()=>n())}),A(()=>{L(()=>{n()})}),r({focus:()=>{var u;return(u=d.value)==null?void 0:u.focus()}}),()=>V(c("textarea",{ref:d,value:e.modelValue,id:i,name:i,autocomplete:"off",placeholder:e.field.placeholder,"aria-labelledby":`${i}_label`,"aria-describedby":e.field.description?`${i}_help`:void 0,"aria-invalid":!!e.error,onInput:u=>{const a=u.target;t("update:modelValue",a.value)}}),[[l,{status:e.field.autofocus}]])}}),le=f({name:"LInputCheckbox",props:{modelValue:{type:Boolean,required:!0,default:!1},field:{type:Object,required:!0},error:{type:String,default:""}},inheritAttrs:!1,expose:["focus"],setup(e,{attrs:t,slots:r,emit:l,expose:i}){const d=p("autofocus"),n=e.field.id||e.field.name,u=m(null);return i({focus:()=>{var a;return(a=u.value)==null?void 0:a.focus()}}),()=>c(I,{},[V(c("input",{...t,ref:u,value:e.modelValue,id:n,name:n,type:"checkbox","aria-labelledby":`${n}_label`,"aria-describedby":e.field.description?`${n}_help`:void 0,"aria-invalid":!!e.error,onInput:a=>{const o=a.target;l("update:modelValue",o.checked)}}),[[d,{status:e.field.autofocus}]]),r.default?r.default():null])}}),ae=f({name:"LInputCheckboxGroup",props:{modelValue:{type:Array,required:!0,default:()=>[]},field:{type:Object,required:!0},error:{type:String,default:""}},inheritAttrs:!1,expose:["focus"],setup(e,{attrs:t,slots:r,emit:l,expose:i}){const d=p("autofocus"),{id:n,name:u}=e.field,a=b((s,k)=>{const x=[...e.modelValue];k?x.push(s):x.splice(x.indexOf(s),1),l("update:modelValue",x)},"check"),o=m(null);return i({focus:()=>{var s;return(s=o.value)==null?void 0:s.focus()}}),()=>c(I,{},[V(c("input",{...t,ref:o,value:e.field.value,id:n,name:u,type:"checkbox",checked:e.modelValue.indexOf(e.field.value)!=-1,"aria-labelledby":`${n}_label`,"aria-describedby":e.field.description?`${n}_help`:void 0,"aria-invalid":!!e.error,onInput:s=>{const k=s.target;a(e.field.value,k.checked)}}),[[d,{status:e.field.autofocus}]]),r.default?r.default():null])}}),O=Symbol("FormContext"),re=f({name:"LForm",props:{modelValue:{type:[Object],required:!0,default:()=>({})},schema:{type:Array,required:!0,default:()=>[]},immediate:{type:[Boolean],default:!1},id:{type:[String],default:"form"},errors:{type:Object,default:()=>({})}},emits:["update:modelValue","onSaveForm","onCheckValidate","afterValidate"],setup(e,{emit:t,slots:r}){const l=m(null),i=m(e.modelValue),d=m(e.schema||[]),n=m(e.errors),u=g(()=>{var s;return(s=e.errors)!=null&&s.value?Object.keys(e.errors.value).length===0:!1}),a={formEl:l,formModel:i,errors:n,validateForm:u,schema:d};R(O,a);const o=b(async()=>{t("update:modelValue",{})},"onResetForm");return()=>c("form",{ref:a.formEl},{default:()=>r.default?r.default({form:a,errors:n,validateForm:a.validateForm.value,onResetForm:o}):[]})}}),de=f({name:"LFormField",props:{field:{type:Object,required:!0,default:()=>({})}},setup(e,{slots:t}){const r=z(O,null),l=e.field.id||e.field.name,i=g(()=>r&&r.errors.value&&l?r.errors.value[l]:void 0),d=g(()=>e.field.rules&&e.field.rules.filter(n=>n.type==="required").length>0);return()=>c("div",{},{default:()=>t.default?t.default({errorField:i.value,required:d.value}):[]})}}),U=f({name:"LFormFieldLabel",props:{field:{type:Object,required:!0}},emits:["onSetFocus"],setup(e,{slots:t,emit:r}){const l=e.field.id||e.field.name,i=b(()=>{r("onSetFocus")},"onFocus");return()=>c("label",{id:l+"_label",for:l,onClick:D(()=>i(),[])},{default:()=>t.default?t.default({onFocus:i}):[]})}}),J=f({name:"LFormFieldDescription",props:{field:{type:Object,required:!0}},setup(e,{slots:t}){const r=e.field.id||e.field.name;return()=>c("div",{id:r+"_help"},t.default?t.default():[])}}),K={role:"alert",class:"mt-2 text-sm leading-none text-d-600 dark:text-d-400"},j=f({__name:"FError",props:{error:{type:String,default:""}},setup(e){return(t,r)=>(v(),q("div",K,[y(t.$slots,"default",{},()=>[S($(e.error),1)])]))}});j.__docgenInfo={exportName:"default",displayName:"FError",description:"",tags:{},props:[{name:"error",description:"String error for field.",type:{name:"string"},defaultValue:{func:!1,value:'""'}}],slots:[{name:"default"}]};const Q={key:0,class:"text-d-600 dark:text-d-400"},X=f({name:"FText",inheritAttrs:!1}),Y=f({...X,props:{modelValue:{default:""},error:null,field:null,required:{type:Boolean}},emits:["update:modelValue","on-input"],setup(e,{emit:t}){const r=e,l=g({get:()=>r.modelValue,set:a=>{t("update:modelValue",a)}}),i=m(null),d=b(()=>{var o;const a=(o=i.value)==null?void 0:o.$el;a&&a.focus()},"onSetFocus"),n=g(()=>l.value==""),u=b(()=>{l.value="",t("on-input"),d()},"onReset");return(a,o)=>(v(),q(I,null,[y(a.$slots,"label",{id:e.field.id,required:e.required,onSetFocus:d},()=>[e.field.label?(v(),w(h(U),{key:0,field:e.field,class:"flex-none block font-medium mb-1",onOnSetFocus:d},{default:C(()=>[S($(e.field.label)+" ",1),e.required?(v(),q("span",Q,"*")):F("",!0)]),_:1},8,["field"])):F("",!0)]),M("div",{class:W(["flex items-center",["rounded-md border text-base transition w-full appearance-none outline-none focus-within:ring-1 hover:ring-1 bg-white dark:bg-s-900",{"border-d-500 dark:border-d-500 focus-within:ring-d-500 focus-within:border-d-500 hover:ring-d-500":e.error},{"border-s-200 dark:border-s-600 focus-within:ring-p-500 focus-within:border-p-500 hover:ring-p-500 hover:border-p-500":!e.error}]])},[y(a.$slots,"before",{onReset:u}),N(h(P),G(a.$attrs,{ref_key:"inputElement",ref:i,modelValue:h(l),"onUpdate:modelValue":o[0]||(o[0]=s=>H(l)?l.value=s:null),field:e.field,error:e.error,class:"w-full flex-auto outline-none px-4 py-2 bg-transparent placeholder-s-500 dark:placeholder-s-400",onInput:o[1]||(o[1]=s=>a.$emit("on-input"))}),null,16,["modelValue","field","error"]),y(a.$slots,"after",{onReset:u,empty:h(n)})],2),e.error?y(a.$slots,"error",{key:0},()=>[N(j,{error:e.error},null,8,["error"])]):F("",!0),y(a.$slots,"description",{},()=>[e.field.description?(v(),w(h(J),{key:0,field:e.field,class:"mt-2 text-sm leading-none text-s-600 dark:text-s-400"},{default:C(()=>[S($(e.field.description),1)]),_:1},8,["field"])):F("",!0)])],64))}});Y.__docgenInfo={exportName:"default",displayName:"FText",description:"",tags:{},props:[{name:"modelValue",description:"modelValue - model string",required:!0,type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"error",required:!1,type:{name:"string"}},{name:"field",description:"Schema for field.",required:!0,type:{name:"IField"}},{name:"required",required:!1,type:{name:"boolean"}}],events:[{name:"on-input"},{name:"update:modelValue"}],slots:[{name:"label",scoped:!0,bindings:[{name:"id",title:"binding"},{name:"required",title:"binding"},{name:"onSetFocus",title:"binding"}]},{name:"before",scoped:!0,bindings:[{name:"onReset",title:"binding"}]},{name:"after",scoped:!0,bindings:[{name:"onReset",title:"binding"},{name:"empty",title:"binding"}]},{name:"error"},{name:"description"}]};export{U as L,j as _,J as a,Y as b,re as c,de as d,te as e,ee as f,le as g,P as h,ae as i};
//# sourceMappingURL=FText.2ae2cb53.js.map
