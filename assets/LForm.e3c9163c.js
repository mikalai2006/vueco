var L=Object.defineProperty;var m=(e,r)=>L(e,"name",{value:r,configurable:!0});import{d as n,H as h,h as d,r as u,a as f,p as y,t as b,v as j}from"./vue.esm-bundler.a08ba302.js";import{L as q}from"./LIcon.ca56402e.js";const O=n({name:"LSpinner",components:{LIcon:q},setup:(e,{slots:r})=>{const t=h("LIcon");return()=>d(t,{class:"animate-spin"},()=>r.default?r.default().map(o=>o.children).join(""):"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z")}}),F=Symbol("FormContext"),M=n({name:"LForm",props:{modelValue:{type:[Object],required:!0,default:()=>({})},schema:{type:Array,required:!0,default:()=>[]},immediate:{type:[Boolean],default:!1},id:{type:[String],default:"form"},errors:{type:Object,default:()=>({})}},emits:["update:modelValue","onSaveForm","onCheckValidate","afterValidate"],setup(e,{emit:r,slots:t}){const o=u(null),a=u(e.modelValue),s=u(e.schema||[]),l=u(e.errors),p=f(()=>{var c;return(c=e.errors)!=null&&c.value?Object.keys(e.errors.value).length===0:!1}),i={formEl:o,formModel:a,errors:l,validateForm:p,schema:s};b(F,i);const v=m(async()=>{r("update:modelValue",{})},"onResetForm");return()=>d("form",{ref:i.formEl},{default:()=>t.default?t.default({form:i,errors:l,validateForm:i.validateForm.value,onResetForm:v}):[]})}}),g=n({name:"LFormField",props:{field:{type:Object,required:!0,default:()=>({})}},setup(e,{slots:r}){const t=j(F,null),o=e.field.id||e.field.name,a=f(()=>t&&t.errors.value&&o?t.errors.value[o]:void 0),s=f(()=>e.field.rules&&e.field.rules.filter(l=>l.type==="required").length>0);return()=>d("div",{},{default:()=>r.default?r.default({errorField:a.value,required:s.value}):[]})}}),k=n({name:"LFormFieldLabel",props:{field:{type:Object,required:!0}},emits:["onSetFocus"],setup(e,{slots:r,emit:t}){const o=e.field.id||e.field.name,a=m(()=>{t("onSetFocus")},"onFocus");return()=>d("label",{id:o+"_label",for:o,onClick:y(()=>a(),[])},{default:()=>r.default?r.default({onFocus:a}):[]})}}),x=n({name:"LFormFieldDescription",props:{field:{type:Object,required:!0}},setup(e,{slots:r}){const t=e.field.id||e.field.name;return()=>d("div",{id:t+"_help"},r.default?r.default():[])}});export{k as L,x as a,O as b,M as c,g as d};
//# sourceMappingURL=LForm.e3c9163c.js.map
