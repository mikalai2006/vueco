import { ref } from "vue";

import { ArgsTable, Source, Canvas, Meta, Story } from "@storybook/addon-docs";

import { LBtn, TypeBtnTag } from "@/components/LBtn";
import LIcon from "../LIcon/LIcon";
import FSpinner from "@/components/ui/FSpinner.vue";
import dedent from "ts-dedent";

import FButton from "@/components/ui/FButton.vue";

export const iBell =
  "M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z";
export const iCart =
  "M5.929 1.757a.5.5 0 1 0-.858-.514L2.217 6H.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h.623l1.844 6.456A.75.75 0 0 0 3.69 15h8.622a.75.75 0 0 0 .722-.544L14.877 8h.623a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1.717L10.93 1.243a.5.5 0 1 0-.858.514L12.617 6H3.383L5.93 1.757zM4 10a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0v-2zm3 0a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0v-2zm4-1a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1z";

<Meta
  title="components/Buttons"
  component={FButton}
  subcomponents={{ LBtn }}
  argTypes={{
    as: {
      options: ["a", "div", "button"],
    },
    mode: {
      options: ["primary", "second", "danger"],
    },
  }}
/>

export const Template = (args) => {
  return {
    components: { FButton },
    setup() {
      return {
        args,
      };
    },
    template: '<FButton v-bind="args">{{ args.mode }}</FButton>',
  };
};

# FButton

## Playground

Change properties to see them in action

<Canvas>
  <Story
    name="Playground"
    args={{
      as: "a",
      mode: "second",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Playground"></ArgsTable>

## WithTooltip

Change properties to see them in action

<Canvas>
  <Story name="WithTooltip" args={{}}>
    {(args) => {
      return {
        components: { FButton, LIcon },
        setup() {
          return {
            iBell,
            args,
          };
        },
        template: `
          <div  v-for="i in 100">
            <FButton v-bind="args" v-tooltip="{ content: 'Hello button!' }">
              With tooltip
            </FButton>
            <FButton v-bind="args" v-tooltip="{ content: 'Hello button!' }">
              With tooltip
            </FButton>
            <FButton v-bind="args" v-tooltip="{ content: 'Hello button!' }">
              With tooltip
            </FButton>
          </div>
        `,
      };
    }}
  </Story>
</Canvas>

<ArgsTable story="WithTooltip"></ArgsTable>

## All

<Story name="All" args={{}}>
  {(args) => {
    return {
      components: { FButton, LIcon },
      setup() {
        return {
          iBell,
        };
      },
      template: `
      <div class="flex flex-col space-y-6">
        <h1>Button</h1>
        <h2>Secondary</h2>
        <div class="flex flex-wrap">
          <div class="p-2">
            <FButton>Secondary</FButton>
          </div>
          <div class="p-2">
            <FButton fill>Secondary</FButton>
          </div>
          <div class="p-2 text-xl">
            <FButton aria-label="bell">
              <LIcon>
                {{iBell}}
              </LIcon>
            </FButton>
          </div>
          <div class="p-2">
            <FButton v-tooltip:left="{content:'Hello Popper (left)', showTriggers: ['click'], hideTriggers: ['click']}" fill aria-label="bell">
              <span class="flex items-center space-x-2">
                <LIcon role="presentation">
                  {{iBell}}
                </LIcon>
                <span>Secondary</span>
              </span>
            </FButton>
          </div>
          <div class="p-2">
            <FButton fill disabled>Disabled</FButton>
          </div>
        </div>
        <h2>Primary</h2>
        <div class="flex flex-wrap">
          <div class="p-2">
            <FButton mode="primary">Primary</FButton>
          </div>
          <div class="p-2">
            <FButton mode="primary" fill  v-tooltip:left="{content:'Hello Popper (left)'}">Primary</FButton>
          </div>
          <div class="p-2">
            <FButton mode="primary" aria-label="bell">
              <LIcon>
                {{iBell}}
              </LIcon>
            </FButton>
          </div>
          <div class="p-2">
            <FButton mode="primary" fill aria-label="bell">
              <span class="flex items-center space-x-2">
                <span>Primary</span>
                <LIcon role="presentation">
                  {{iBell}}
                </LIcon>
              </span>
            </FButton>
          </div>
          <div class="p-2">
            <FButton mode="primary" disabled aria-label="bell">
              <LIcon>
                {{iBell}}
              </LIcon>
            </FButton>
          </div>
        </div>
        <h2>Danger</h2>
        <div class="flex flex-wrap">
          <div class="p-2">
            <FButton v-tooltip:right="{content:'Hello Popper (right)', showTriggers: ['click'], hideTriggers: ['click']}" mode="danger">Danger</FButton>
          </div>
          <div class="p-2">
            <FButton mode="danger" fill>Danger</FButton>
          </div>
          <div class="p-2">
            <FButton mode="danger" aria-label="bell">
              <LIcon>
                {{iBell}}
              </LIcon>
            </FButton>
          </div>
          <div class="p-2">
            <FButton  v-tooltip="{content:'Hello Popper (top)', placement: 'top'}" mode="danger" fill>
              <span class="flex items-center space-x-2">
                <span>Danger</span>
                <LIcon role="presentation">
                  {{iBell}}
                </LIcon>
              </span>
            </FButton>
          </div>
          <div class="p-2">
            <FButton mode="danger" disabled fill>
              <span class="flex items-center space-x-2">
                <LIcon role="presentation">
                  {{iBell}}
                </LIcon>
                <span>Danger</span>
              </span>
            </FButton>
          </div>
        </div>
        <h2>Link</h2>
        <div class="flex flex-wrap">
          <div class="p-2">
            <FButton v-tooltip:left="{content:'Hello Popper (left)'}" mode="link">Danger</FButton>
          </div>
          <div class="p-2">
            <FButton mode="link" fill>Danger</FButton>
          </div>
          <div class="p-2">
            <FButton mode="link" aria-label="bell">
              <LIcon>
                {{iBell}}
              </LIcon>
            </FButton>
          </div>
          <div class="p-2">
            <FButton mode="link" fill>
              <span class="flex items-center space-x-2">
                <span>Danger</span>
                <LIcon role="presentation">
                  {{iBell}}
                </LIcon>
              </span>
            </FButton>
          </div>
          <div class="p-2">
            <FButton mode="link" disabled fill>
              <span class="flex items-center space-x-2">
                <LIcon role="presentation">
                  {{iBell}}
                </LIcon>
                <span>Danger</span>
              </span>
            </FButton>
          </div>
        </div>
      </div>
      `,
    };
  }}
</Story>

## FButton

<Story name="FButton" args={{}}>
  {(args) => {
    return {
      components: { FButton },
      setup() {
        const pressed = ref(false);
        return {
          args: {
            ...args,
          },
          iBell,
          pressed,
        };
      },
      template: `
      <div class="">
        <FButton v-bind="args" v-model:pressed="pressed">Primary</FButton>
      </div>
      `,
    };
  }}
</Story>

<ArgsTable story="FButton" />

<Canvas>
  <Story name="FButtonWithSpinner" args={{}}>
    {(args) => {
      return {
        components: { FButton, FSpinner },
        setup() {
          const pressed = ref(false);
          return {
            args: {
              ...args,
            },
            iBell,
            pressed,
          };
        },
        template: `
        <FButton v-bind="args" v-model:pressed="pressed">
          <div class="flex items-center">
            <FSpinner role="presentation" class="mr-2" /> Load
          </div>
        </FButton>
        `,
      };
    }}
  </Story>
</Canvas>

<ArgsTable story="FButtonWithSpinner" />
